<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_SteambotCenter</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_player</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
image_speed = 0;
//sprite = spr_PatriotCenterRight
hp = 100;
hsp = 0;
vsp = 0;
grav = 0.5;
alarm[0] = -1;
alarm[1] = -1;
alarm[2] = -1;
alarm[3] = -1;
alarm[4] = -1;
//banji variable
banji = 0;
// direction: 1 = right, -1 = left
dirFacing = 1;
nowFace = 1;
lastFace = 1;
specialOngoing = -1;
knifeOngoing = -1;
grounded = 0;
getHP = 1;
preserveHP = 0;
usingShield = -1;
enterErrorBlock = -1;
score = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//specialOngoing ++;
instance_create(x - 40, y + 15, obj_SteambotBulletLeft);
audio_play_sound(sound_projectile,0,false);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>specialOngoing ++;
instance_create(x + 40, y + 15, obj_SteambotBulletRight);
audio_play_sound(sound_projectile,0,false);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>knifeOngoing ++;      
hit = instance_place(x, y, obj_damageable);
shieldDetect = instance_place(x,y,obj_player);
if((shieldDetect != noone) &amp;&amp; (shieldDetect.usingShield == 1)){
if(nowFace = 1){
shieldDetect.x += 12;
}else{
shieldDetect.x -= 12;
}
}
if(hit != noone &amp;&amp; hit != self){
hit.hp -= 10;
if(nowFace = 1){
hit.x += 12;
}else{
hit.x -= 12;
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//gather inputs
Key_Right = obj_RightButton.Mouse_Left_RightButton 
Key_Left = obj_LeftButton.Mouse_Left_LeftButton 
Key_Space = obj_SpaceButton.Mouse_Left_SpaceButton 
Key_Enter = obj_RightAttackButton.Mouse_Left_AttackButton or obj_LeftAttackButton.Mouse_Left_AttackButton


;


//neutral
if(((Key_Left &amp;&amp; Key_Right) or (!Key_Left &amp;&amp; !Key_Right)) &amp;&amp; !Key_Enter){
     alarm[0] = -1;
     alarm[1] = -1;
     hsp = 0;
     sprite_index = spr_SteambotCenter
     
     }
    if(lastFace == -1){
     nowFace = -1;
}


// horizontal movement
if(Key_Left){
    sprite_index = spr_SteambotWalk;
    nowFace = -1;
     image_speed = 1;
    hsp = -9;
    lastFace = -1;

}
if(Key_Right){
     image_speed = 1;
     sprite_index = spr_SteambotWalk;
     nowFace = 1;
       hsp = 9;
     lastFace = 1;
    
    }


//jumping
if(Key_Space){
    if(!grounded){
         if(lastFace == 1){
         //need steambot jump
         sprite_index = spr_SteambotJumpKoh;
         nowFace = 1;
         }else if(lastFace == -1){
         //need steambot jump
         sprite_index = spr_SteambotJumpKoh;
         nowFace = -1; 
         }
    }
    if(grounded){
      vsp = -12;
    }
}
vsp += grav;




//steam attack
if(Key_Enter){
   if(enterErrorBlock == -1){
      y -= 18;
   }
   enterErrorBlock = 1;
    hsp = 0;
   //animation
   //if (lastFace == 1){
   //image_speed = 0.4;
   //sprite_index = spr_SteambotAttack2;
   //nowFace = 1;
   //}
   //if (lastFace == -1){
   //image_speed = 0.4;
   //sprite_index = spr_SteambotAttack2;
   //nowFace = -1;
   //}  
   //implementation
   //hit = instance_place(x, y, obj_damageable);
   
   //if(hit != noone &amp;&amp; hit != self){
   //hit.hp -= 1;
   //}
   if(grounded){
   //vsp = 0;
   }
   //hsp = 0;
    image_speed = 0.7;
      sprite_index = spr_SteambotSpecial;
      //animation
      if(lastFace == 1){
      nowFace = 1;
      }
      if(lastFace == -1){
      nowFace = -1;
      }
      // implementation
      if (lastFace == 1 &amp;&amp; alarm[3] == -1){
      alarm[3] = 3;
      }
      if (lastFace == -1 &amp;&amp; alarm[4] == -1){
      alarm[4] = 3;
      }
    }
if(!Key_Enter){
enterErrorBlock = -1;
}





//collision
if (place_meeting(x, y + vsp, obj_block) &amp;&amp; !place_meeting(x, y, obj_block) &amp;&amp; vsp &gt; 0){
   while(!place_meeting(x, y + 1, obj_block)){
   y += 1;
   }
    vsp = 0;
    grounded = 1;
}else{
grounded = 0;
}


//execute movement
x += hsp;
y += vsp;


//health management
if (hp &lt;= 0){
instance_destroy();
room_goto(room_deathScreenWithStats);
}






</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
room_goto(room_deathScreenWithStats);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if(banji != 1){
draw_sprite_ext(sprite_index,image_index,x,y,nowFace,image_yscale,image_angle,c_white,image_alpha);
//}else{
//draw_sprite_ext(sprite_index,image_index,x,y,nowFace,image_yscale,image_angle,c_yellow,image_alpha);
//}


//draw_healthbar(x - 20,y - 36,x + 10,y - 35,hp,c_yellow,c_red,c_green,0,false,false);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>32,32</point>
    <point>32,32</point>
  </PhysicsShapePoints>
</object>
